<!-- layouts/partials/content/list-post.html -->
<article
  class="relative group flex flex-row items-center mb-4 hover:bg-gray-50 p-2 rounded-xl transition"
>
  <!-- Clickable overlay -->
  <a
    class="absolute inset-0 z-10"
    href="{{ .Permalink }}"
    aria-label="{{ .Title }}"
  ></a>

  <!-- Thumbnail -->
  <figure
    class="w-32 aspect-video overflow-hidden rounded-2xl bg-zinc-100 flex-shrink-0"
  >
    {{- if .Params.image }} {{- if (strings.HasPrefix .Params.image "http") }}
    <!-- External URL -->
    <img
      class="object-cover h-full w-full group-hover:scale-105 transition duration-500"
      src="{{ .Params.image }}"
      alt="{{ .Title }}"
      loading="lazy"
    />
    {{- else }}
    <!-- Page Bundle Resource -->
    {{- with $imglist := .Resources.GetMatch .Params.image -}} {{- $imglist =
    $imglist.Resize "320x" -}}
    <img
      class="object-cover h-full w-full group-hover:scale-105 transition duration-500"
      src="{{ $imglist.Permalink }}"
      alt="{{ .Title }}"
      width="{{ $imglist.Width }}"
      height="{{ $imglist.Height }}"
      loading="lazy"
    />
    {{- end }} {{- end }} {{- else }}
    <!-- Placeholder khi không có ảnh -->
    <div
      class="w-full h-full bg-gradient-to-br from-gray-200 to-gray-300 flex items-center justify-center"
    >
      <svg
        class="w-10 h-10 text-gray-400"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"
        ></path>
      </svg>
    </div>
    {{- end }}
  </figure>

  <!-- Content -->
  <div class="basis-2/3 self-center ml-4 relative z-20">
    <h3
      class="font-bold text-sm leading-tight line-clamp-2 mb-1 group-hover:text-blue-600 transition-colors"
    >
      {{ .LinkTitle }}
    </h3>
    <time class="text-xs text-gray-500 font-medium">
      {{ .Date.Format "Sep 02, 2006" }}
    </time>
  </div>
</article>
