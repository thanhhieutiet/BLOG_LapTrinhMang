<!DOCTYPE html>
<html
  lang="vi"
  dir="ltr"
>
  <head><script src="/myblog/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=myblog/livereload" data-no-instant defer></script>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Async Programming: Promise (JS) vs CompletableFuture (Java) - Battle of Asynchronous! | Blog Của Híu</title>

<meta name="description" content="So sánh cách xử lý bất đồng bộ giữa JavaScript Promise và Java CompletableFuture">
    <link rel="stylesheet" href="/myblog/css/main.css">

<link rel="icon" type="image/svg+xml" href="http://localhost:1313/myblog/favicon.svg"> 
<link rel="icon" type="image/x-icon" href="http://localhost:1313/myblog/favicon.ico"> 
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/myblog/favicon.png"> 
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/myblog/favicon-32.png"> 
<link rel="icon" type="image/png" sizes="64x64" href="http://localhost:1313/myblog/favicon-64.png"> 

  </head>
  <body class="m-0 p-0">
    <header class="py-6 border-b"><div class="max-w-7xl mx-auto px-4 md:px-6 lg:px-8 flex flex-col">
  <div class="flex items-center">
    <div class="flex items-center">
      <button
        class="flex items-center space-x-2 rounded-full border py-1 pr-[5px] pl-3 group bg-zinc-100 hover:bg-zinc-200 toggle-button"
        data-target="menu-bar"
      >
        <svg width="22" height="22" fill="currentColor" viewBox="0 0 16 16">
          <path
            fill-rule="evenodd"
            d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"
          ></path>
        </svg>
        <span class="bg-blue-500 fill-white rounded-full p-1.5">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="18"
            height="18"
            fill="currentColor"
            class="group-hover:animate-spin bi bi-egg-fried fill-white"
            viewBox="0 0 16 16"
          >
            <path d="M8 11a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"></path>
            <path
              d="M13.997 5.17a5 5 0 0 0-8.101-4.09A5 5 0 0 0 1.28 9.342a5 5 0 0 0 8.336 5.109 3.5 3.5 0 0 0 5.201-4.065 3.001 3.001 0 0 0-.822-5.216zm-1-.034a1 1 0 0 0 .668.977 2.001 2.001 0 0 1 .547 3.478 1 1 0 0 0-.341 1.113 2.5 2.5 0 0 1-3.715 2.905 1 1 0 0 0-1.262.152 4 4 0 0 1-6.67-4.087 1 1 0 0 0-.2-1 4 4 0 0 1 3.693-6.61 1 1 0 0 0 .8-.2 4 4 0 0 1 6.48 3.273z"
            ></path>
          </svg>
        </span>
      </button>
      <div
        class="relative rounded-full py-1.5 px-6 bg-zinc-100 hover:bg-zinc-200 text-xl font-bold uppercase mx-2"
      >
        
        <h2>
          <a
            class="before:content-[''] before:z-10 before:top-0 before:right-0 before:left-0 before:bottom-0 before:absolute before:pointer-events-auto"
            href="http://localhost:1313/myblog/"
            >Blog Của Híu</a
          >
        </h2>
        
      </div>
    </div>
    <div class="flex items-center ml-auto">
      <button
        class="flex items-center rounded-full p-3 bg-zinc-100 hover:bg-zinc-200 toggle-button"
        data-target="search-bar"
      >
        <svg width="18" height="18" fill="currentColor" viewBox="0 0 16 16">
          <path
            id="path1"
            class="transition-all ease-linear"
            d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"
          ></path>
          <path
            id="path2"
            class="transition-all ease-linear hidden"
            d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"
          ></path>
        </svg>
      </button>
    </div>
  </div>
  <nav id="menu-bar" class="mt-3 close transition-all duration-300">
    <ul class="flex items-center flex flex-nowrap whitespace-nowrap overflow-x-auto space-x-4">
    <li class="my-2">
      <a class="rounded-full border px-6 py-2 bg-zinc-100 hover:bg-zinc-200" href="/myblog/">Home</a>
    </li>
    <li class="my-2">
      <a aria-current="true" class="ancestor" href="/myblog/blog/">Blog</a>
    </li>
    <li class="my-2">
      <a class="rounded-full border px-6 py-2 bg-zinc-100 hover:bg-zinc-200" href="/myblog/about/">About</a>
    </li>
    <li class="my-2">
      <a class="rounded-full border px-6 py-2 bg-zinc-100 hover:bg-zinc-200" href="/myblog/tags/">Tags</a>
    </li>
    </ul>
  </nav>
<div id="search-bar" class="mt-3 close transition-all duration-300">
  <form id="search" class="flex items-stretch">
    <input
      class="w-full block px-6 py-2 rounded-l-full focus:outline-none border border-zinc-200"
      type="text"
      placeholder="Search..."
    />
    <button
      class="flex items-center px-7 py-2.5 rounded-r-full border border-zinc-200"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="18"
        height="18"
        fill="currentColor"
        class="group-hover:animate-pulse"
        viewBox="0 0 16 16"
      >
        <path
          d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"
        ></path>
      </svg>
    </button>
  </form>
</div>
</div>
</header>
    <main
      class="max-w-7xl mx-auto px-4 md:px-6 lg:px-8 mt-8"
    ><div id="breadcrumb" class="max-w-7xl mx-auto py-8">
	<ul class="flex space-x-4 text-sm text-zinc-500">
		<li class="after:content-['❯'] after:ml-4 after:opacity-30 last:after:content-none uppercase">
			<a href="http://localhost:1313/myblog/">Blog Của Híu</a>
		</li>
		<li class="after:content-['❯'] after:ml-4 after:opacity-30 last:after:content-none uppercase">
			<a href="http://localhost:1313/myblog/blog/">Blogs</a>
		</li>
	</ul>
</div><div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-14">
  <article class="md:col-span-2 prose lg:prose-lg">
    <header class="not-prose">
      <h1 id="title" class="text-4xl font-bold leading-normal">Async Programming: Promise (JS) vs CompletableFuture (Java) - Battle of Asynchronous!</h1>

      <div id="lead" class="my-6">
        <p class="font-bold">So sánh cách xử lý bất đồng bộ giữa JavaScript Promise và Java CompletableFuture</p>
      </div>

      <div id="writer" class="flex items-center space-x-4"><ul
          class="flex items-center space-x-4 flex-nowrap whitespace-nowrap overflow-x-auto"
        >
          <li class="font-semibold my-2"></li>

          <li class="before:content-['•'] before:mr-2 before:opacity-50 my-2"><time datetime="2024-09-28T00:00:00&#43;00:00">September 28, 2024</time>
          </li>

          <li class="before:content-['•'] before:mr-2 before:opacity-50 my-2">
            6 min read
          </li>
        </ul>
      </div>
    </header>

    <figure id="featureimage" class="rounded-xl aspect-video">
      <img
        class="rounded-lg"
        src="http://localhost:1313/myblog/blog/promise-vs-completablefuture/thumbnail_hu_ab146f8fbb7cd60a.png"
        alt=""
        width="750"
        height="422"
      />
    </figure>

    <div id="content" class="mb-14">
      <p>Chào các bạn! Async programming là một trong những concepts khó nhất khi học lập trình. Mình đã struggle với nó khá lâu, từ callback hell của JavaScript đến thread complexity của Java. Hôm nay mình muốn chia sẻ cách hai ngôn ngữ này handle async operations - JavaScript với Promise và Java với CompletableFuture.</p>
<h2 id="câu-chuyện-bắt-đầu-từ-synchronous-hell">Câu chuyện bắt đầu từ Synchronous Hell</h2>
<h3 id="javascript---callback-hell">JavaScript - Callback Hell</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">// Cách xưa - callback nightmare!
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">getUserData</span>(<span style="color:#a6e22e">userId</span>, <span style="color:#a6e22e">callback</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">fetchUser</span>(<span style="color:#a6e22e">userId</span>, (<span style="color:#a6e22e">user</span>) =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">user</span>) {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">fetchUserProfile</span>(<span style="color:#a6e22e">user</span>.<span style="color:#a6e22e">id</span>, (<span style="color:#a6e22e">profile</span>) =&gt; {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">profile</span>) {
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">fetchUserPosts</span>(<span style="color:#a6e22e">user</span>.<span style="color:#a6e22e">id</span>, (<span style="color:#a6e22e">posts</span>) =&gt; {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">posts</span>) {
</span></span><span style="display:flex;"><span>              <span style="color:#a6e22e">fetchPostComments</span>(<span style="color:#a6e22e">posts</span>[<span style="color:#ae81ff">0</span>].<span style="color:#a6e22e">id</span>, (<span style="color:#a6e22e">comments</span>) =&gt; {
</span></span><span style="display:flex;"><span>                <span style="color:#75715e">// 4 levels deep! Pyramid of doom 😱
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                <span style="color:#a6e22e">callback</span>({ <span style="color:#a6e22e">user</span>, <span style="color:#a6e22e">profile</span>, <span style="color:#a6e22e">posts</span>, <span style="color:#a6e22e">comments</span> });
</span></span><span style="display:flex;"><span>              });
</span></span><span style="display:flex;"><span>            } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>              <span style="color:#a6e22e">callback</span>(<span style="color:#66d9ef">null</span>, <span style="color:#e6db74">&#34;No posts found&#34;</span>);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>          });
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">callback</span>(<span style="color:#66d9ef">null</span>, <span style="color:#e6db74">&#34;Profile not found&#34;</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>      });
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">callback</span>(<span style="color:#66d9ef">null</span>, <span style="color:#e6db74">&#34;User not found&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  });
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="java---thread-complexity">Java - Thread Complexity</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">// Cách xưa với Thread</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">getUserDataOldWay</span>(String userId) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">new</span> Thread(() <span style="color:#f92672">-&gt;</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>            User user <span style="color:#f92672">=</span> fetchUser(userId);
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (user <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span>) {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">new</span> Thread(() <span style="color:#f92672">-&gt;</span> {
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>                        Profile profile <span style="color:#f92672">=</span> fetchUserProfile(user.<span style="color:#a6e22e">getId</span>());
</span></span><span style="display:flex;"><span>                        <span style="color:#66d9ef">if</span> (profile <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span>) {
</span></span><span style="display:flex;"><span>                            <span style="color:#75715e">// Nested threads everywhere! 😫</span>
</span></span><span style="display:flex;"><span>                            <span style="color:#75715e">// Error handling nightmare</span>
</span></span><span style="display:flex;"><span>                            <span style="color:#75715e">// No easy way to combine results</span>
</span></span><span style="display:flex;"><span>                        }
</span></span><span style="display:flex;"><span>                    } <span style="color:#66d9ef">catch</span> (Exception e) {
</span></span><span style="display:flex;"><span>                        <span style="color:#75715e">// Handle error</span>
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                }).<span style="color:#a6e22e">start</span>();
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">catch</span> (Exception e) {
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// Handle error</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }).<span style="color:#a6e22e">start</span>();
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="javascript-promise---giải-cứu-từ-callback-hell">JavaScript Promise - Giải cứu từ Callback Hell</h2>
<h3 id="promise-basics">Promise Basics</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">// Tạo Promise đơn giản
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">fetchUser</span>(<span style="color:#a6e22e">userId</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> Promise((<span style="color:#a6e22e">resolve</span>, <span style="color:#a6e22e">reject</span>) =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Simulate API call
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">setTimeout</span>(() =&gt; {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">userId</span> <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">resolve</span>({ <span style="color:#a6e22e">id</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">userId</span>, <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">`User </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">userId</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span> });
</span></span><span style="display:flex;"><span>      } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">reject</span>(<span style="color:#66d9ef">new</span> Error(<span style="color:#e6db74">&#34;Invalid user ID&#34;</span>));
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    }, <span style="color:#ae81ff">1000</span>);
</span></span><span style="display:flex;"><span>  });
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Sử dụng Promise
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">fetchUser</span>(<span style="color:#ae81ff">123</span>)
</span></span><span style="display:flex;"><span>  .<span style="color:#a6e22e">then</span>((<span style="color:#a6e22e">user</span>) =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;User:&#34;</span>, <span style="color:#a6e22e">user</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">user</span>; <span style="color:#75715e">// Pass data to next .then()
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  })
</span></span><span style="display:flex;"><span>  .<span style="color:#a6e22e">then</span>((<span style="color:#a6e22e">user</span>) =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Chain another async operation
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">fetchUserProfile</span>(<span style="color:#a6e22e">user</span>.<span style="color:#a6e22e">id</span>);
</span></span><span style="display:flex;"><span>  })
</span></span><span style="display:flex;"><span>  .<span style="color:#a6e22e">then</span>((<span style="color:#a6e22e">profile</span>) =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;Profile:&#34;</span>, <span style="color:#a6e22e">profile</span>);
</span></span><span style="display:flex;"><span>  })
</span></span><span style="display:flex;"><span>  .<span style="color:#66d9ef">catch</span>((<span style="color:#a6e22e">error</span>) =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">error</span>(<span style="color:#e6db74">&#34;Error:&#34;</span>, <span style="color:#a6e22e">error</span>);
</span></span><span style="display:flex;"><span>  })
</span></span><span style="display:flex;"><span>  .<span style="color:#66d9ef">finally</span>(() =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;Cleanup code here&#34;</span>);
</span></span><span style="display:flex;"><span>  });
</span></span></code></pre></div><h3 id="promiseall---chạy-song-song">Promise.all() - Chạy song song</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">// Thay vì chạy tuần tự
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">async</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">getUserDataSequential</span>(<span style="color:#a6e22e">userId</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">user</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">fetchUser</span>(<span style="color:#a6e22e">userId</span>); <span style="color:#75715e">// 1s
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">profile</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">fetchUserProfile</span>(<span style="color:#a6e22e">userId</span>); <span style="color:#75715e">// 1s
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">posts</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">fetchUserPosts</span>(<span style="color:#a6e22e">userId</span>); <span style="color:#75715e">// 1s
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">// Total: 3s
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> { <span style="color:#a6e22e">user</span>, <span style="color:#a6e22e">profile</span>, <span style="color:#a6e22e">posts</span> };
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Chạy song song với Promise.all()
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">async</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">getUserDataParallel</span>(<span style="color:#a6e22e">userId</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> [<span style="color:#a6e22e">user</span>, <span style="color:#a6e22e">profile</span>, <span style="color:#a6e22e">posts</span>] <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> Promise.<span style="color:#a6e22e">all</span>([
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fetchUser</span>(<span style="color:#a6e22e">userId</span>), <span style="color:#75715e">// All run in parallel
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">fetchUserProfile</span>(<span style="color:#a6e22e">userId</span>), <span style="color:#75715e">// Total: 1s (longest operation)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">fetchUserPosts</span>(<span style="color:#a6e22e">userId</span>),
</span></span><span style="display:flex;"><span>  ]);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> { <span style="color:#a6e22e">user</span>, <span style="color:#a6e22e">profile</span>, <span style="color:#a6e22e">posts</span> };
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Promise.allSettled() - Không fail nếu 1 promise reject
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">async</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">getUserDataSafe</span>(<span style="color:#a6e22e">userId</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">results</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> Promise.<span style="color:#a6e22e">allSettled</span>([
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fetchUser</span>(<span style="color:#a6e22e">userId</span>),
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fetchUserProfile</span>(<span style="color:#a6e22e">userId</span>),
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fetchUserPosts</span>(<span style="color:#a6e22e">userId</span>),
</span></span><span style="display:flex;"><span>  ]);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">results</span>.<span style="color:#a6e22e">map</span>((<span style="color:#a6e22e">result</span>) =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">result</span>.<span style="color:#a6e22e">status</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#34;fulfilled&#34;</span>) {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">result</span>.<span style="color:#a6e22e">value</span>;
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">error</span>(<span style="color:#e6db74">&#34;Failed:&#34;</span>, <span style="color:#a6e22e">result</span>.<span style="color:#a6e22e">reason</span>);
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  });
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="asyncawait---promise-syntax-đường">Async/Await - Promise syntax đường</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">// Từ Promise chain
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">getUserData</span>(<span style="color:#a6e22e">userId</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">fetchUser</span>(<span style="color:#a6e22e">userId</span>)
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">then</span>((<span style="color:#a6e22e">user</span>) =&gt; <span style="color:#a6e22e">fetchUserProfile</span>(<span style="color:#a6e22e">user</span>.<span style="color:#a6e22e">id</span>))
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">then</span>((<span style="color:#a6e22e">profile</span>) =&gt; <span style="color:#a6e22e">fetchUserPosts</span>(<span style="color:#a6e22e">profile</span>.<span style="color:#a6e22e">userId</span>))
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">then</span>((<span style="color:#a6e22e">posts</span>) =&gt; ({ <span style="color:#a6e22e">user</span>, <span style="color:#a6e22e">profile</span>, <span style="color:#a6e22e">posts</span> }))
</span></span><span style="display:flex;"><span>    .<span style="color:#66d9ef">catch</span>((<span style="color:#a6e22e">error</span>) =&gt; {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">error</span>(<span style="color:#e6db74">&#34;Error:&#34;</span>, <span style="color:#a6e22e">error</span>);
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">throw</span> <span style="color:#a6e22e">error</span>;
</span></span><span style="display:flex;"><span>    });
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Đến async/await - clean hơn nhiều!
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">async</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">getUserData</span>(<span style="color:#a6e22e">userId</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">user</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">fetchUser</span>(<span style="color:#a6e22e">userId</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">profile</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">fetchUserProfile</span>(<span style="color:#a6e22e">user</span>.<span style="color:#a6e22e">id</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">posts</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">fetchUserPosts</span>(<span style="color:#a6e22e">profile</span>.<span style="color:#a6e22e">userId</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> { <span style="color:#a6e22e">user</span>, <span style="color:#a6e22e">profile</span>, <span style="color:#a6e22e">posts</span> };
</span></span><span style="display:flex;"><span>  } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">error</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">error</span>(<span style="color:#e6db74">&#34;Error:&#34;</span>, <span style="color:#a6e22e">error</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">throw</span> <span style="color:#a6e22e">error</span>;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="java-completablefuture---modern-async-java">Java CompletableFuture - Modern Async Java</h2>
<h3 id="completablefuture-basics">CompletableFuture Basics</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.concurrent.CompletableFuture;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.concurrent.ExecutorService;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.concurrent.Executors;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">AsyncService</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> ExecutorService executor <span style="color:#f92672">=</span> Executors.<span style="color:#a6e22e">newFixedThreadPool</span>(10);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Tạo CompletableFuture đơn giản</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> CompletableFuture<span style="color:#f92672">&lt;</span>User<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">fetchUser</span>(String userId) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> CompletableFuture.<span style="color:#a6e22e">supplyAsync</span>(() <span style="color:#f92672">-&gt;</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// Simulate delay</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>                Thread.<span style="color:#a6e22e">sleep</span>(1000);
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> (Integer.<span style="color:#a6e22e">parseInt</span>(userId) <span style="color:#f92672">&gt;</span> 0) {
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> User(userId, <span style="color:#e6db74">&#34;User &#34;</span> <span style="color:#f92672">+</span> userId);
</span></span><span style="display:flex;"><span>                } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> RuntimeException(<span style="color:#e6db74">&#34;Invalid user ID&#34;</span>);
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            } <span style="color:#66d9ef">catch</span> (InterruptedException e) {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> RuntimeException(e);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }, executor);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Chain operations</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> CompletableFuture<span style="color:#f92672">&lt;</span>UserData<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">getUserData</span>(String userId) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> fetchUser(userId)
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">thenCompose</span>(user <span style="color:#f92672">-&gt;</span>
</span></span><span style="display:flex;"><span>                fetchUserProfile(user.<span style="color:#a6e22e">getId</span>())
</span></span><span style="display:flex;"><span>                    .<span style="color:#a6e22e">thenApply</span>(profile <span style="color:#f92672">-&gt;</span> <span style="color:#66d9ef">new</span> UserData(user, profile))
</span></span><span style="display:flex;"><span>            )
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">thenCompose</span>(userData <span style="color:#f92672">-&gt;</span>
</span></span><span style="display:flex;"><span>                fetchUserPosts(userData.<span style="color:#a6e22e">getUser</span>().<span style="color:#a6e22e">getId</span>())
</span></span><span style="display:flex;"><span>                    .<span style="color:#a6e22e">thenApply</span>(posts <span style="color:#f92672">-&gt;</span> {
</span></span><span style="display:flex;"><span>                        userData.<span style="color:#a6e22e">setPosts</span>(posts);
</span></span><span style="display:flex;"><span>                        <span style="color:#66d9ef">return</span> userData;
</span></span><span style="display:flex;"><span>                    })
</span></span><span style="display:flex;"><span>            )
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">exceptionally</span>(throwable <span style="color:#f92672">-&gt;</span> {
</span></span><span style="display:flex;"><span>                System.<span style="color:#a6e22e">err</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Error: &#34;</span> <span style="color:#f92672">+</span> throwable.<span style="color:#a6e22e">getMessage</span>());
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>            });
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="parallel-execution-với-completablefuture">Parallel Execution với CompletableFuture</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> CompletableFuture<span style="color:#f92672">&lt;</span>UserData<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">getUserDataParallel</span>(String userId) {
</span></span><span style="display:flex;"><span>    CompletableFuture<span style="color:#f92672">&lt;</span>User<span style="color:#f92672">&gt;</span> userFuture <span style="color:#f92672">=</span> fetchUser(userId);
</span></span><span style="display:flex;"><span>    CompletableFuture<span style="color:#f92672">&lt;</span>Profile<span style="color:#f92672">&gt;</span> profileFuture <span style="color:#f92672">=</span> fetchUserProfile(userId);
</span></span><span style="display:flex;"><span>    CompletableFuture<span style="color:#f92672">&lt;</span>List<span style="color:#f92672">&lt;</span>Post<span style="color:#f92672">&gt;&gt;</span> postsFuture <span style="color:#f92672">=</span> fetchUserPosts(userId);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Combine all results</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> userFuture.<span style="color:#a6e22e">thenCombine</span>(profileFuture, (user, profile) <span style="color:#f92672">-&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">new</span> UserData(user, profile)
</span></span><span style="display:flex;"><span>    ).<span style="color:#a6e22e">thenCombine</span>(postsFuture, (userData, posts) <span style="color:#f92672">-&gt;</span> {
</span></span><span style="display:flex;"><span>        userData.<span style="color:#a6e22e">setPosts</span>(posts);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> userData;
</span></span><span style="display:flex;"><span>    });
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// allOf() - giống Promise.all()</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> CompletableFuture<span style="color:#f92672">&lt;</span>List<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;&gt;</span> <span style="color:#a6e22e">fetchMultipleUsers</span>(List<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> userIds) {
</span></span><span style="display:flex;"><span>    List<span style="color:#f92672">&lt;</span>CompletableFuture<span style="color:#f92672">&lt;</span>User<span style="color:#f92672">&gt;&gt;</span> futures <span style="color:#f92672">=</span> userIds.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">map</span>(<span style="color:#66d9ef">this</span>::fetchUser)
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">collect</span>(Collectors.<span style="color:#a6e22e">toList</span>());
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    CompletableFuture<span style="color:#f92672">&lt;</span>Void<span style="color:#f92672">&gt;</span> allFutures <span style="color:#f92672">=</span> CompletableFuture.<span style="color:#a6e22e">allOf</span>(
</span></span><span style="display:flex;"><span>        futures.<span style="color:#a6e22e">toArray</span>(<span style="color:#66d9ef">new</span> CompletableFuture<span style="color:#f92672">[</span>0<span style="color:#f92672">]</span>)
</span></span><span style="display:flex;"><span>    );
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> allFutures.<span style="color:#a6e22e">thenApply</span>(v <span style="color:#f92672">-&gt;</span>
</span></span><span style="display:flex;"><span>        futures.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">map</span>(CompletableFuture::join) <span style="color:#75715e">// Get results</span>
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">map</span>(User::getName)
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">collect</span>(Collectors.<span style="color:#a6e22e">toList</span>())
</span></span><span style="display:flex;"><span>    );
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="so-sánh-trực-tiếp-promise-vs-completablefuture">So sánh trực tiếp Promise vs CompletableFuture</h2>
<h3 id="1-tạo-async-operation">1. Tạo async operation</h3>
<p><strong>JavaScript:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">promise</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Promise((<span style="color:#a6e22e">resolve</span>, <span style="color:#a6e22e">reject</span>) =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">setTimeout</span>(() =&gt; <span style="color:#a6e22e">resolve</span>(<span style="color:#e6db74">&#34;Done!&#34;</span>), <span style="color:#ae81ff">1000</span>);
</span></span><span style="display:flex;"><span>});
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Hoặc với async function
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">asyncFunction</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">async</span> () =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;Done!&#34;</span>;
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><p><strong>Java:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>CompletableFuture<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> future <span style="color:#f92672">=</span> CompletableFuture.<span style="color:#a6e22e">supplyAsync</span>(() <span style="color:#f92672">-&gt;</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span> { Thread.<span style="color:#a6e22e">sleep</span>(1000); } <span style="color:#66d9ef">catch</span> (InterruptedException e) {}
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;Done!&#34;</span>;
</span></span><span style="display:flex;"><span>});
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Hoặc completed future</span>
</span></span><span style="display:flex;"><span>CompletableFuture<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> completedFuture <span style="color:#f92672">=</span> CompletableFuture.<span style="color:#a6e22e">completedFuture</span>(<span style="color:#e6db74">&#34;Done!&#34;</span>);
</span></span></code></pre></div><h3 id="2-chain-operations">2. Chain operations</h3>
<p><strong>JavaScript:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">promise</span>
</span></span><span style="display:flex;"><span>  .<span style="color:#a6e22e">then</span>((<span style="color:#a6e22e">result</span>) =&gt; <span style="color:#a6e22e">result</span>.<span style="color:#a6e22e">toUpperCase</span>())
</span></span><span style="display:flex;"><span>  .<span style="color:#a6e22e">then</span>((<span style="color:#a6e22e">upper</span>) =&gt; <span style="color:#a6e22e">upper</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; - FINISHED&#34;</span>)
</span></span><span style="display:flex;"><span>  .<span style="color:#66d9ef">catch</span>((<span style="color:#a6e22e">error</span>) =&gt; <span style="color:#e6db74">&#34;Error: &#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">error</span>);
</span></span></code></pre></div><p><strong>Java:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>future
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">thenApply</span>(result <span style="color:#f92672">-&gt;</span> result.<span style="color:#a6e22e">toUpperCase</span>())
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">thenApply</span>(upper <span style="color:#f92672">-&gt;</span> upper <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; - FINISHED&#34;</span>)
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">exceptionally</span>(error <span style="color:#f92672">-&gt;</span> <span style="color:#e6db74">&#34;Error: &#34;</span> <span style="color:#f92672">+</span> error.<span style="color:#a6e22e">getMessage</span>());
</span></span></code></pre></div><h3 id="3-combine-multiple-operations">3. Combine multiple operations</h3>
<p><strong>JavaScript:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span>Promise.<span style="color:#a6e22e">all</span>([<span style="color:#a6e22e">promise1</span>, <span style="color:#a6e22e">promise2</span>, <span style="color:#a6e22e">promise3</span>]).<span style="color:#a6e22e">then</span>(
</span></span><span style="display:flex;"><span>  ([<span style="color:#a6e22e">result1</span>, <span style="color:#a6e22e">result2</span>, <span style="color:#a6e22e">result3</span>]) =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> { <span style="color:#a6e22e">result1</span>, <span style="color:#a6e22e">result2</span>, <span style="color:#a6e22e">result3</span> };
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>);
</span></span></code></pre></div><p><strong>Java:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>future1.<span style="color:#a6e22e">thenCombine</span>(future2, (r1, r2) <span style="color:#f92672">-&gt;</span> <span style="color:#66d9ef">new</span> Pair(r1, r2))
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">thenCombine</span>(future3, (pair, r3) <span style="color:#f92672">-&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">new</span> Result(pair.<span style="color:#a6e22e">getFirst</span>(), pair.<span style="color:#a6e22e">getSecond</span>(), r3)
</span></span><span style="display:flex;"><span>    );
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Hoặc với allOf</span>
</span></span><span style="display:flex;"><span>CompletableFuture.<span style="color:#a6e22e">allOf</span>(future1, future2, future3)
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">thenApply</span>(v <span style="color:#f92672">-&gt;</span> <span style="color:#66d9ef">new</span> Result(
</span></span><span style="display:flex;"><span>        future1.<span style="color:#a6e22e">join</span>(),
</span></span><span style="display:flex;"><span>        future2.<span style="color:#a6e22e">join</span>(),
</span></span><span style="display:flex;"><span>        future3.<span style="color:#a6e22e">join</span>()
</span></span><span style="display:flex;"><span>    ));
</span></span></code></pre></div><h2 id="real-world-example-api-gateway">Real-world Example: API Gateway</h2>
<h3 id="javascript-implementation">JavaScript Implementation:</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">APIGateway</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">async</span> <span style="color:#a6e22e">handleRequest</span>(<span style="color:#a6e22e">request</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// Authenticate user
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">user</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">authenticate</span>(<span style="color:#a6e22e">request</span>.<span style="color:#a6e22e">token</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// Fetch data in parallel
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">const</span> [<span style="color:#a6e22e">userData</span>, <span style="color:#a6e22e">permissions</span>, <span style="color:#a6e22e">preferences</span>] <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> Promise.<span style="color:#a6e22e">all</span>([
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">fetchUserData</span>(<span style="color:#a6e22e">user</span>.<span style="color:#a6e22e">id</span>),
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">fetchUserPermissions</span>(<span style="color:#a6e22e">user</span>.<span style="color:#a6e22e">id</span>),
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">fetchUserPreferences</span>(<span style="color:#a6e22e">user</span>.<span style="color:#a6e22e">id</span>),
</span></span><span style="display:flex;"><span>      ]);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// Transform data
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">response</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">transformResponse</span>({
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">user</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">userData</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">permissions</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">preferences</span>,
</span></span><span style="display:flex;"><span>      });
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">response</span>;
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">error</span>) {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">handleError</span>(<span style="color:#a6e22e">error</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">async</span> <span style="color:#a6e22e">fetchUserData</span>(<span style="color:#a6e22e">userId</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">response</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">fetch</span>(<span style="color:#e6db74">`/api/users/</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">userId</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">response</span>.<span style="color:#a6e22e">ok</span>) {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> Error(<span style="color:#e6db74">`HTTP </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">response</span>.<span style="color:#a6e22e">status</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">response</span>.<span style="color:#a6e22e">json</span>();
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="java-implementation">Java Implementation:</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#a6e22e">@Service</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">APIGateway</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> ExecutorService executor <span style="color:#f92672">=</span> Executors.<span style="color:#a6e22e">newFixedThreadPool</span>(20);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> CompletableFuture<span style="color:#f92672">&lt;</span>APIResponse<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">handleRequest</span>(APIRequest request) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> authenticate(request.<span style="color:#a6e22e">getToken</span>())
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">thenCompose</span>(user <span style="color:#f92672">-&gt;</span> {
</span></span><span style="display:flex;"><span>                <span style="color:#75715e">// Fetch data in parallel</span>
</span></span><span style="display:flex;"><span>                CompletableFuture<span style="color:#f92672">&lt;</span>UserData<span style="color:#f92672">&gt;</span> userDataFuture <span style="color:#f92672">=</span>
</span></span><span style="display:flex;"><span>                    fetchUserData(user.<span style="color:#a6e22e">getId</span>());
</span></span><span style="display:flex;"><span>                CompletableFuture<span style="color:#f92672">&lt;</span>List<span style="color:#f92672">&lt;</span>Permission<span style="color:#f92672">&gt;&gt;</span> permissionsFuture <span style="color:#f92672">=</span>
</span></span><span style="display:flex;"><span>                    fetchUserPermissions(user.<span style="color:#a6e22e">getId</span>());
</span></span><span style="display:flex;"><span>                CompletableFuture<span style="color:#f92672">&lt;</span>Preferences<span style="color:#f92672">&gt;</span> preferencesFuture <span style="color:#f92672">=</span>
</span></span><span style="display:flex;"><span>                    fetchUserPreferences(user.<span style="color:#a6e22e">getId</span>());
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> userDataFuture.<span style="color:#a6e22e">thenCombine</span>(permissionsFuture,
</span></span><span style="display:flex;"><span>                        (userData, permissions) <span style="color:#f92672">-&gt;</span> <span style="color:#66d9ef">new</span> Pair<span style="color:#f92672">&lt;&gt;</span>(userData, permissions))
</span></span><span style="display:flex;"><span>                    .<span style="color:#a6e22e">thenCombine</span>(preferencesFuture, (pair, preferences) <span style="color:#f92672">-&gt;</span>
</span></span><span style="display:flex;"><span>                        <span style="color:#66d9ef">new</span> RequestData(pair.<span style="color:#a6e22e">getFirst</span>(), pair.<span style="color:#a6e22e">getSecond</span>(), preferences)
</span></span><span style="display:flex;"><span>                    );
</span></span><span style="display:flex;"><span>            })
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">thenCompose</span>(<span style="color:#66d9ef">this</span>::transformResponse)
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">exceptionally</span>(<span style="color:#66d9ef">this</span>::handleError);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> CompletableFuture<span style="color:#f92672">&lt;</span>UserData<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">fetchUserData</span>(String userId) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> CompletableFuture.<span style="color:#a6e22e">supplyAsync</span>(() <span style="color:#f92672">-&gt;</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// HTTP call implementation</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> restTemplate.<span style="color:#a6e22e">getForObject</span>(<span style="color:#e6db74">&#34;/api/users/&#34;</span> <span style="color:#f92672">+</span> userId, UserData.<span style="color:#a6e22e">class</span>);
</span></span><span style="display:flex;"><span>            } <span style="color:#66d9ef">catch</span> (Exception e) {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> RuntimeException(<span style="color:#e6db74">&#34;Failed to fetch user data&#34;</span>, e);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }, executor);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="performance--lessons-learned">Performance &amp; Lessons Learned</h2>
<h3 id="performance-comparison">Performance Comparison:</h3>
<ul>
<li><strong>JavaScript Promise</strong>: Single-threaded event loop, excellent cho I/O operations</li>
<li><strong>Java CompletableFuture</strong>: Multi-threaded, tốt cho CPU-intensive tasks</li>
</ul>
<h3 id="best-practices">Best Practices:</h3>
<p><strong>JavaScript:</strong></p>
<ol>
<li>Luôn dùng <code>async/await</code> thay vì <code>.then()</code> chains</li>
<li>Dùng <code>Promise.all()</code> cho parallel operations</li>
<li>Handle errors với try/catch</li>
<li>Avoid creating unnecessary Promises</li>
</ol>
<p><strong>Java:</strong></p>
<ol>
<li>Sử dụng custom ExecutorService</li>
<li>Handle exceptions với <code>exceptionally()</code> hoặc <code>handle()</code></li>
<li>Dùng <code>thenCombine()</code> cho parallel operations</li>
<li>Remember to shutdown ExecutorService</li>
</ol>
<h2 id="kết-luận">Kết luận</h2>
<p>Cả Promise và CompletableFuture đều là tools mạnh mẽ cho async programming:</p>
<ul>
<li><strong>Promise</strong>: Đơn giản hơn, syntax clean với async/await</li>
<li><strong>CompletableFuture</strong>: Mạnh mẽ hơn, control tốt hơn threading</li>
</ul>
<p>Quan trọng là hiểu concept async programming, sau đó syntax chỉ là matter of practice!</p>
<p>Các bạn đã dùng async programming chưa? Share kinh nghiệm ở comment nhé!</p>
<hr>
<p><em>Async is the future! ⚡🚀</em></p>
<div class="mt-8 pt-6 border-t border-gray-200 not-prose">
  <h3 class="text-lg font-bold text-gray-900 mb-4">Chủ đề</h3>

  <div class="flex flex-wrap items-center gap-3"><a
      href="http://localhost:1313/myblog/categories/programming/"
      class="group inline-flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-semibold bg-gradient-to-br from-blue-50 to-indigo-50 text-blue-700 border border-blue-200 hover:from-blue-100 hover:to-indigo-100 hover:border-blue-300 hover:shadow-md transition-all duration-300 transform hover:-translate-y-0.5"
    >
      <svg
        class="w-4 h-4 group-hover:scale-110 transition-transform"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"
        ></path>
      </svg>
      <span>Programming</span>
    </a></div>
</div><div class="mt-6 not-prose">
  <div class="flex flex-wrap items-center gap-2">
    <span class="text-sm font-medium text-gray-500">Tags:</span><a
      href="http://localhost:1313/myblog/tags/java/"
      class="inline-flex items-center px-3 py-1 rounded-lg text-xs font-medium bg-gray-100 text-gray-700 hover:bg-gray-200 hover:text-gray-900 transition-colors duration-200"
    >
      #Java
    </a><a
      href="http://localhost:1313/myblog/tags/javascript/"
      class="inline-flex items-center px-3 py-1 rounded-lg text-xs font-medium bg-gray-100 text-gray-700 hover:bg-gray-200 hover:text-gray-900 transition-colors duration-200"
    >
      #Javascript
    </a></div>
</div></div>

    <footer id="content-footer" class="not-prose">
      <div id="comment" class="border p-8 bg-zinc-100 rounded-2xl">
        <h2 class="text-xl font-semibold">Comment</h2>

        <p>Disqus comment here</p></div>

      <div
        id="author-box"
        class="my-8 md:my-14 border p-8 bg-zinc-100 rounded-2xl"
      >
        <img
          class="w-20 h-20 rounded-full"
          src=""
          alt=""
        />

        <h2 class="text-xl font-bold my-4">
          Written by : 
        </h2>

        <p class="mb-4"></p>

        <ul class="flex flex-wrap space-x-4">
          <li>
            <a
              class="flex items-center decoration-auto hover:underline"
              href="https://facebook.com/#"
              target="_blank"
              rel="noopener"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="20"
                height="20"
                fill="currentColor"
                viewBox="0 0 16 16"
              >
                <path
                  d="M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"
                />
              </svg>
              <span class="ml-2">Facebook</span>
            </a>
          </li>
          <li>
            <a
              class="flex items-center decoration-auto hover:underline"
              href="https://facebook.com/#"
              target="_blank"
              rel="noopener"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="20"
                height="20"
                fill="currentColor"
                viewBox="0 0 16 16"
              >
                <path
                  d="M12.6.75h2.454l-5.36 6.142L16 15.25h-4.937l-3.867-5.07-4.425 5.07H.316l5.733-6.57L0 .75h5.063l3.495 4.633L12.601.75Zm-.86 13.028h1.36L4.323 2.145H2.865l8.875 11.633Z"
                />
              </svg>
              <span class="ml-2">Twitter</span>
            </a>
          </li>
          <li>
            <a
              class="flex items-center decoration-auto hover:underline"
              href="https://facebook.com/#"
              target="_blank"
              rel="noopener"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="20"
                height="20"
                fill="currentColor"
                viewBox="0 0 16 16"
              >
                <path
                  d="M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z"
                />
              </svg>
              <span class="ml-2">Instagram</span>
            </a>
          </li>
        </ul>
      </div>

      <div id="related-post" class="">
        <h2 class="text-xl md:text-2xl font-bold mb-6 md:mb-8">
          Recommended for You
        </h2><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><article class="relative group bg-zinc-100 hover:bg-blue-100 rounded-3xl">
	
	<a class="insert-link" href="http://localhost:1313/myblog/blog/springboot-vs-nodejs/"></a>

	<figure class="w-full aspect-video overflow-hidden rounded-3xl"><img class="object-cover group-hover:scale-105 transition duration-500 cursor-pointer" src="http://localhost:1313/myblog/blog/springboot-vs-nodejs/thumbnail_hu_ad5caa18316a7898.png" alt="Spring Boot vs Node.js: Trải nghiệm backend development của mình" width="750" height="422">

	  </figure>

	<div class="p-6">

		<time datetime="2024-01-25T16:20:00&#43;07:00">Jan 25, 2024</time>

		<h3 class="my-4 text-2xl font-bold">Spring Boot vs Node.js: Trải nghiệm backend development của mình</h3>

		<p class="text-normal leading-normal text-zinc-500 line-clamp-2">So sánh thực tế giữa Spring Boot và Node.js qua kinh nghiệm làm dự án backend</p>

	</div>
</article><article class="relative group bg-zinc-100 hover:bg-blue-100 rounded-3xl">
	
	<a class="insert-link" href="http://localhost:1313/myblog/blog/javascript-es6&#43;/"></a>

	<figure class="w-full aspect-video overflow-hidden rounded-3xl"><img class="object-cover group-hover:scale-105 transition duration-500 cursor-pointer" src="http://localhost:1313/myblog/blog/javascript-es6&#43;/thumbnail_hu_e7c694414766b841.png" alt="JavaScript ES6&#43;: Những tính năng đã thay đổi cách mình code" width="750" height="422">

	  </figure>

	<div class="p-6">

		<time datetime="2024-01-22T09:15:00&#43;07:00">Jan 22, 2024</time>

		<h3 class="my-4 text-2xl font-bold">JavaScript ES6&#43;: Những tính năng đã thay đổi cách mình code</h3>

		<p class="text-normal leading-normal text-zinc-500 line-clamp-2">Khám phá những tính năng ES6&#43; đã cách mạng hóa cách viết JavaScript của mình</p>

	</div>
</article>
        </div>
      </div>
    </footer>
  </article>

  
  <aside class="md:col-span-1"><div class="lg:sticky lg:top-8"><!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Random Quote Banner</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      .fade-in {
        animation: fadeIn 0.6s ease-out;
      }
      .quote-mark {
        font-family: Georgia, serif;
        font-size: 3rem;
        line-height: 0;
        opacity: 0.15;
      }
    </style>
  </head>
  <body class="bg-gray-50 p-8">
    
    <div
      id="quoteBanner"
      class="mb-8 relative overflow-hidden rounded-2xl shadow-sm bg-white border border-gray-100 p-6 fade-in"
    >
      
      <div
        class="absolute top-0 right-0 w-32 h-32 bg-blue-50 rounded-full -translate-y-1/2 translate-x-1/2 opacity-50"
      ></div>

      
      <div class="relative z-10">
        
        <div class="quote-mark text-blue-600 mb-2">"</div>

        
        <blockquote
          id="quoteText"
          class="text-gray-700 text-base md:text-lg font-medium mb-3 leading-relaxed"
        >
          
        </blockquote>

        
        <div class="flex items-center justify-between flex-wrap gap-3">
          <cite
            id="quoteAuthor"
            class="text-gray-600 text-sm not-italic font-semibold"
          >
            
          </cite>

          
          <button
            onclick="loadNewQuote()"
            class="bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-1.5 rounded-lg transition-all duration-300 flex items-center gap-2 text-sm font-medium border border-gray-200"
          >
            <svg
              class="w-4 h-4"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"
              ></path>
            </svg>
            Quote khác
          </button>
        </div>
      </div>
    </div>

    <script>
      const quotes = [
        {
          text: "Lập trình không phải là về những gì bạn biết, mà là về những gì bạn có thể tìm ra.",
          author: "Chris Pine",
        },
        {
          text: "Code giống như sự hài hước. Khi bạn phải giải thích nó, có nghĩa là nó đã tệ rồi.",
          author: "Cory House",
        },
        {
          text: "Trước tiên, hãy giải quyết vấn đề. Sau đó mới viết code.",
          author: "John Johnson",
        },
        {
          text: "Thông báo lỗi tốt nhất là thông báo không bao giờ xuất hiện.",
          author: "Thomas Fuchs",
        },
        {
          text: "Cách duy nhất để học một ngôn ngữ lập trình mới là viết chương trình bằng nó.",
          author: "Dennis Ritchie",
        },
        {
          text: "Code không bao giờ nói dối, nhưng comment thì có thể.",
          author: "Ron Jeffries",
        },
        {
          text: "Sự đơn giản là linh hồn của hiệu quả.",
          author: "Austin Freeman",
        },
        {
          text: "Làm cho nó chạy được, làm cho nó đúng, làm cho nó nhanh.",
          author: "Kent Beck",
        },
        {
          text: "Bất kỳ kẻ ngu nào cũng có thể viết code mà máy tính hiểu được. Lập trình viên giỏi viết code mà con người có thể hiểu được.",
          author: "Martin Fowler",
        },
        {
          text: "Máy tính sinh ra để giải quyết những vấn đề không tồn tại trước đó.",
          author: "Bill Gates",
        },
        {
          text: "Nói thì dễ. Hãy cho tôi xem code.",
          author: "Linus Torvalds",
        },
        {
          text: "Lập trình là nghệ thuật nói với con người khác những gì bạn muốn máy tính làm.",
          author: "Donald Knuth",
        },
        {
          text: "Đôi khi việc ở lại trên giường vào thứ Hai tốt hơn là dành cả tuần để debug code của ngày thứ Hai.",
          author: "Dan Salomon",
        },
        {
          text: "Hoàn hảo là kẻ thù của tốt.",
          author: "Voltaire",
        },
        {
          text: "Đó không phải là bug - đó là một tính năng chưa được ghi chép.",
          author: "Anonymous",
        },
        {
          text: "Debug khó hơn gấp đôi so với viết code. Vì vậy, nếu bạn viết code thông minh nhất có thể, bạn sẽ không đủ thông minh để debug nó.",
          author: "Brian Kernighan",
        },
        {
          text: "Đừng comment code tệ - hãy viết lại nó.",
          author: "Brian Kernighan",
        },
        {
          text: "Kinh nghiệm là tên chúng ta đặt cho những sai lầm của mình.",
          author: "Oscar Wilde",
        },
      ];

      let currentQuoteIndex = -1;

      function getRandomQuote() {
        let newIndex;
        do {
          newIndex = Math.floor(Math.random() * quotes.length);
        } while (newIndex === currentQuoteIndex && quotes.length > 1);

        currentQuoteIndex = newIndex;
        return quotes[newIndex];
      }

      function displayQuote(quote) {
        document.getElementById("quoteText").textContent = quote.text;
        document.getElementById("quoteAuthor").textContent =
          "— " + quote.author;
      }

      function loadNewQuote() {
        const banner = document.getElementById("quoteBanner");
        banner.classList.remove("fade-in");

        setTimeout(() => {
          const quote = getRandomQuote();
          displayQuote(quote);
          banner.classList.add("fade-in");
        }, 100);
      }

      
      window.addEventListener("DOMContentLoaded", () => {
        const quote = getRandomQuote();
        displayQuote(quote);
      });
    </script>
  </body>
</html>

  <div class="space-y-6 mb-8">
    <h2 class="font-bold text-xl mb-4">Chủ đề</h2>
    <ul class="space-y-2">
      
        <li>
          <a href="/categories/programming" 
             class="flex items-center justify-between p-3 rounded-lg hover:bg-blue-100 transition">
            <span class="font-medium">programming</span>
            <span class="text-sm text-gray-500 bg-gray-200 px-2 py-1 rounded">
              7
            </span>
          </a>
        </li>
      
    </ul>
  </div>
  
  
  <div class="space-y-6">
    <h2 class="font-bold text-xl mb-4">Bài viết mới</h2>
    
<article
  class="relative group flex flex-row items-center mb-4 hover:bg-gray-50 p-2 rounded-xl transition"
>
  
  <a
    class="absolute inset-0 z-10"
    href="http://localhost:1313/myblog/blog/5-wrong-errors/"
    aria-label="5 Sai lầm phổ biến khi học Java mà mình đã mắc phải"
  ></a>

  
  <figure
    class="w-32 aspect-video overflow-hidden rounded-2xl bg-zinc-100 flex-shrink-0"
  >
    <img
      class="object-cover h-full w-full group-hover:scale-105 transition duration-500"
      src="http://localhost:1313/myblog/blog/5-wrong-errors/thumbnail_hu_d9e7b5a5f8ae998d.png"
      alt="thumbnail.png"
      width="320"
      height="180"
      loading="lazy"
    />
  </figure>

  
  <div class="basis-2/3 self-center ml-4 relative z-20">
    <h3
      class="font-bold text-sm leading-tight line-clamp-2 mb-1 group-hover:text-blue-600 transition-colors"
    >
      5 Sai lầm phổ biến khi học Java mà mình đã mắc phải
    </h3>
    <time class="text-xs text-gray-500 font-medium">
      Sep 18, 2025
    </time>
  </div>
</article>

<article
  class="relative group flex flex-row items-center mb-4 hover:bg-gray-50 p-2 rounded-xl transition"
>
  
  <a
    class="absolute inset-0 z-10"
    href="http://localhost:1313/myblog/blog/design-patterns/"
    aria-label="Design Patterns trong Java vs JavaScript: Cùng bài toán, khác cách giải"
  ></a>

  
  <figure
    class="w-32 aspect-video overflow-hidden rounded-2xl bg-zinc-100 flex-shrink-0"
  >
    <img
      class="object-cover h-full w-full group-hover:scale-105 transition duration-500"
      src="http://localhost:1313/myblog/blog/design-patterns/thumbnail_hu_c778f456613ff28f.png"
      alt="thumbnail.png"
      width="320"
      height="180"
      loading="lazy"
    />
  </figure>

  
  <div class="basis-2/3 self-center ml-4 relative z-20">
    <h3
      class="font-bold text-sm leading-tight line-clamp-2 mb-1 group-hover:text-blue-600 transition-colors"
    >
      Design Patterns trong Java vs JavaScript: Cùng bài toán, khác cách giải
    </h3>
    <time class="text-xs text-gray-500 font-medium">
      Sep 01, 2025
    </time>
  </div>
</article>

<article
  class="relative group flex flex-row items-center mb-4 hover:bg-gray-50 p-2 rounded-xl transition"
>
  
  <a
    class="absolute inset-0 z-10"
    href="http://localhost:1313/myblog/about/"
    aria-label="Giới thiệu"
  ></a>

  
  <figure
    class="w-32 aspect-video overflow-hidden rounded-2xl bg-zinc-100 flex-shrink-0"
  >
    <img
      class="object-cover h-full w-full group-hover:scale-105 transition duration-500"
      src="http://localhost:1313/myblog/about/Poster_ABM_ILIMG_hu_48002c01d6494ebf.png"
      alt="Poster_ABM_ILIMG.png"
      width="320"
      height="180"
      loading="lazy"
    />
  </figure>

  
  <div class="basis-2/3 self-center ml-4 relative z-20">
    <h3
      class="font-bold text-sm leading-tight line-clamp-2 mb-1 group-hover:text-blue-600 transition-colors"
    >
      Giới thiệu
    </h3>
    <time class="text-xs text-gray-500 font-medium">
      Sep 21, 2025
    </time>
  </div>
</article>

<article
  class="relative group flex flex-row items-center mb-4 hover:bg-gray-50 p-2 rounded-xl transition"
>
  
  <a
    class="absolute inset-0 z-10"
    href="http://localhost:1313/myblog/blog/java-socket/"
    aria-label="Kết nối Socket trong Java"
  ></a>

  
  <figure
    class="w-32 aspect-video overflow-hidden rounded-2xl bg-zinc-100 flex-shrink-0"
  >
    <img
      class="object-cover h-full w-full group-hover:scale-105 transition duration-500"
      src="http://localhost:1313/myblog/blog/java-socket/thumbnail_hu_f7dab30c63364b21.png"
      alt="thumbnail.png"
      width="320"
      height="180"
      loading="lazy"
    />
  </figure>

  
  <div class="basis-2/3 self-center ml-4 relative z-20">
    <h3
      class="font-bold text-sm leading-tight line-clamp-2 mb-1 group-hover:text-blue-600 transition-colors"
    >
      Kết nối Socket trong Java
    </h3>
    <time class="text-xs text-gray-500 font-medium">
      Sep 21, 2025
    </time>
  </div>
</article>

<article
  class="relative group flex flex-row items-center mb-4 hover:bg-gray-50 p-2 rounded-xl transition"
>
  
  <a
    class="absolute inset-0 z-10"
    href="http://localhost:1313/myblog/blog/java-to-javascript/"
    aria-label="Từ Java đến JavaScript: Hành trình học lập trình của mình"
  ></a>

  
  <figure
    class="w-32 aspect-video overflow-hidden rounded-2xl bg-zinc-100 flex-shrink-0"
  >
    <img
      class="object-cover h-full w-full group-hover:scale-105 transition duration-500"
      src="http://localhost:1313/myblog/blog/java-to-javascript/thumbnail_hu_511bf807f7c9f6a6.png"
      alt="thumbnail.png"
      width="320"
      height="180"
      loading="lazy"
    />
  </figure>

  
  <div class="basis-2/3 self-center ml-4 relative z-20">
    <h3
      class="font-bold text-sm leading-tight line-clamp-2 mb-1 group-hover:text-blue-600 transition-colors"
    >
      Từ Java đến JavaScript: Hành trình học lập trình của mình
    </h3>
    <time class="text-xs text-gray-500 font-medium">
      Sep 21, 2025
    </time>
  </div>
</article>

  </div>
</div></aside>
</div>

</main>
    <footer class="bg-zinc-100 py-10 md:py-14"><div class="max-w-7xl mx-auto px-4 md:px-6 lg:px-8">

  <div class="flex flex-wrap space-y-6 mb-4">

    <div class="w-full md:w-3/5 flex flex-col space-y-4 md:pr-8 lg:pr-10">

      <a class="flex items-center group" href="http://localhost:1313/myblog/">
        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="mr-2 group-hover:animate-spin" viewBox="0 0 16 16">
          <path d="M8 11a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
          <path d="M13.997 5.17a5 5 0 0 0-8.101-4.09A5 5 0 0 0 1.28 9.342a5 5 0 0 0 8.336 5.109 3.5 3.5 0 0 0 5.201-4.065 3.001 3.001 0 0 0-.822-5.216zm-1-.034a1 1 0 0 0 .668.977 2.001 2.001 0 0 1 .547 3.478 1 1 0 0 0-.341 1.113 2.5 2.5 0 0 1-3.715 2.905 1 1 0 0 0-1.262.152 4 4 0 0 1-6.67-4.087 1 1 0 0 0-.2-1 4 4 0 0 1 3.693-6.61 1 1 0 0 0 .8-.2 4 4 0 0 1 6.48 3.273z"/>
        </svg>
        
        <span class="text-2xl font-semibold uppercase">Blog Của Híu</span>
      </a>

      <p class="font-semibold">
        Write with love. Minimalism design.<br>Clean code and built in Rembele, Gayo Highland.
      </p>

      <p>Lorem ipsum dolor sit amet consectetur adipisicing, elit. At nulla, dolorum cumque ad. Officia voluptas excepturi distinctio maiores reiciendis minima aliquid aspernatur. Ullam tenetur saepe debitis, libero, in rerum vero?</p>

    </div>

    <div class="self-center flex flex-col w-full md:w-2/5">

<ul id="social-media" class="flex items-center space-x-4">
	<li>
		<a class="w-12 h-12 rounded-full bg-white hover:bg-zinc-200 flex items-center justify-center p-2" href="https://www.facebook.com/#" target="_blank" rel="noopener noreferrer">
			<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 16 16">
				<path d="M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"/>
			</svg>
		</a>
	</li>
	<li>
		<a class="w-12 h-12 rounded-full bg-white hover:bg-zinc-200 flex items-center justify-center p-2" href="https://www.twitter.com/#" target="_blank" rel="noopener noreferrer">
			<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" viewBox="0 0 16 16">
				  <path d="M12.6.75h2.454l-5.36 6.142L16 15.25h-4.937l-3.867-5.07-4.425 5.07H.316l5.733-6.57L0 .75h5.063l3.495 4.633L12.601.75Zm-.86 13.028h1.36L4.323 2.145H2.865l8.875 11.633Z"/>
			</svg>
		</a>
	</li>
	<li>
		<a class="w-12 h-12 rounded-full bg-white hover:bg-zinc-200 flex items-center justify-center p-2" href="https://www.github.com/#" target="_blank" rel="noopener noreferrer">
			<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" viewBox="0 0 16 16">
				  <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
			</svg>
		</a>
	</li>
	<li>
		<a class="w-12 h-12 rounded-full bg-white hover:bg-zinc-200 flex items-center justify-center p-2" href="https://www.instagram.com/#" target="_blank" rel="noopener noreferrer">
			<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" viewBox="0 0 16 16">
				  <path d="M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z"></path>
			</svg>
		</a>
	</li>
</ul>

    </div>
    
  </div>

  <div class="my-8">
    <ul class="flex items-center space-x-4">
      
        <li><a class="decoration-auto hover:underline font-semibold" href="/myblog/">Home</a></li>
      
        <li><a class="decoration-auto hover:underline font-semibold" href="/myblog/blog/">Blog</a></li>
      
        <li><a class="decoration-auto hover:underline font-semibold" href="/myblog/about/">About</a></li>
      
        <li><a class="decoration-auto hover:underline font-semibold" href="/myblog/tags/">Tags</a></li>
      
    </ul>
  </div>

  <div class="border-t pt-4">

    <p class="text-sm">Copyright © 2025. All rights reserved. <a href="https://insertapps.com/en/" target="_blank" rel="noopener">Insertapps.com</a></p>

  </div>
  
</div>
</footer>
      <script src="/myblog/js/insertoggle.js"></script>
  </body>
</html>
